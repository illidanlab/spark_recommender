<jobList xmlns:recsys="Samsung Recsys"> 
  <jobEntry>
    <jobType>rec_matrixfactorize</jobType>
    <jobName>matrixFact_PMF</jobName>
    <jobDesc>BiMonthly test experiment from 20140801</jobDesc>
    <sparkContext>
      <master>local</master>
    </sparkContext>
    <resourceLocation>
	<roviHq>s3n://vddil.data.standard/apps/vddil/rovi_hq/</roviHq>
	<watchTime>s3n://vddil.data.standard/apps/vddil/duid-program-watchTime/</watchTime>
	<workspace>hdfs:///workspace/</workspace>
    </resourceLocation>
    <experimentalFeature>
	   <exportPlainTextData>false</exportPlainTextData>
    </experimentalFeature>
    <trainDates>
      <date>20140801-20140814</date>
    </trainDates>
    <testDates>
	    <date>20140815</date>
    </testDates>
    <features>
      <feature>
        <type>itemFeature</type>
        <name>genre</name>
        <param>
          <lang>en</lang>
        </param>
      </feature>
      <feature>
        <type>itemFeature</type>
        <name>syn_tfidf</name>
        <param>
          <N>100</N>
        </param>
        <processes>
          <process>
            <name>dummy</name>
          </process>
        </processes>
      </feature>
      <feature>
        <type>itemFeature</type>
        <name>showTime</name>
        <param>
          <timeWindow>12</timeWindow>
        </param>
      </feature>
      <feature>
        <type>userFeature</type>
        <name>genre</name>
      </feature>
      <feature>
        <type>userFeature</type>
        <name>syn_tfidf</name>
      </feature>
      <feature>
        <type>userFeature</type>
        <name>showTime</name>
      </feature>
    </features>
    <dataSplit>
      <testingRatio>0.2</testingRatio>
      <validationRatio>0.1</validationRatio>
    </dataSplit>
    <models>
            <model>
                <name>pmf_model</name>
                <param>
                    <regParam>1.5</regParam>
                    <userProfileReg>0.1</userProfileReg>
                    <itemProfileReg>0.1</itemProfileReg>
                    <numIter>1</numIter>
                    <stepSize>0.0001</stepSize>
                    <rank>2</rank>
                    <!-- <ItemProfileGenerator>Lasso</ItemProfileGenerator>
                    <UserProfileGenerator>Lasso</UserProfileGenerator> -->
                    <ItemProfileGenerator>Average</ItemProfileGenerator>
                    <UserProfileGenerator>Average</UserProfileGenerator>
                </param>
            </model>
    </models>
    <tests>
      <test>
        <type>futureNotColdstart</type>
        <name>NonColdstart</name>
        <param>
            <UserSampleSize>15000</UserSampleSize>
        </param>
        <metrics>
	      <metric>
            <type>hr</type>
            <name>HitRate</name>
            <param>
                <key>val</key>
            </param>
	      </metric>
	    </metrics>
      </test>
      <test>
         <type>futureColdItems</type>
         <name>ColdStartItems</name>
         <param>
             <UserSampleSize>15000</UserSampleSize>
         </param>
         <metrics>
           <metric>
               <type>cold_recall</type>
               <name>Cold_Item_Recall</name>
               <param>
                   <UserSampleSize>15000</UserSampleSize>
               </param>
           </metric>
         </metrics>
      </test>      
    </tests>
  </jobEntry>
</jobList>
